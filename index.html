<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chama Offline | Login</title>
<link rel="stylesheet" href="css/style.css">
</head>
<body>
<div class="container">
  <h2>Chama Offline System</h2>
  <div class="auth-box">
    <h3>Login</h3>
    <input id="loginEmail" type="email" placeholder="Email">
    <input id="loginPassword" type="password" placeholder="Password">
    <button onclick="login()">Login</button>

    <h3>Register</h3>
    <input id="regEmail" type="email" placeholder="Email">
    <input id="regPassword" type="password" placeholder="Password">
    <select id="role">
      <option value="admin">Admin</option>
      <option value="member">Member</option>
    </select>
    <button onclick="register()">Register</button>
  </div>
</div>

<script src="<script>
const API_URL = ""https://script.google.com/macros/s/AKfycbwGxR6GFIJRmcnC7x5BufaWkCFCJFagXxF_2NFeoaEjm_5ZMX4kJi3z5r8r-1M4uyNSdw/exec";

function login() {
  fetch(API_URL, {
    method: "POST",
    body: JSON.stringify({
      action: "login",
      phone: phone.value,
      pin: pin.value
    })
  })
  .then(r => r.json())
  .then(d => {
    if (!d.success) return alert("Login failed");
    sessionStorage.setItem("user", JSON.stringify(d));
    location.href = d.role === "ADMIN" ? "admin.html" : "member.html";
  });
}
</script>
"></script>
</body>
</html>


